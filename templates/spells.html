<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>DND hjemmeside med søgefunktion til spells</title>
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css', v=2) }}">
</head>
<body class="App-body">
  {% include 'nav.html' %}
  <div class="App">
    <header class="App-header">
      <img src="{{ url_for('static', filename='dndlogo2.png') }}" class="App-logo" alt="logo" />
      <h1>Søg efter en spell</h1>
      <p class="tagline">Find spells by name or level.</p>

      
      <form method="post" action="" class="search-form" aria-label="Search spells">
        <input type="text"
               name="search_term"
               placeholder="Search spells..."
               required
               aria-label="Search spells">
        <button type="submit">Search</button>
      </form>

      {% if members.members %}
        <h2>Results</h2>
        <h3>Click a spell to view details</h3>
        <ul class="spell-list">
          {% for member in members.members %}
            <li>
              <div class="spell-title">
                <span><strong>{{ member.spell_name }}</strong></span>
                <span class="small">Level: {{ member.spell_level }}</span>
              </div>
              <details>
                <summary>More Info</summary>
                <p><strong>Casting Time:</strong> {{ member.casting_time }}</p>
                <p><strong>Range:</strong> {{ member.spell_range }}</p>
                <p><strong>Components:</strong> {{ member.components }}</p>
                <p><strong>Duration:</strong> {{ member.duration }}</p>
                <p><strong>Description:</strong> {{ member.description }}</p>
                <p><strong>Higher Levels:</strong> {{ member.higher_levels }}</p>
              </details>
            </li>
          {% endfor %}
        </ul>
      {% endif %}

      {% if not members.members and request.method == "POST" %}
        <p>No results found.</p>
      {% endif %}
    </header>
  </div>
</body>
</html>
